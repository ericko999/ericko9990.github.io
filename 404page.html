<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>404 ‚Äî Sunday Folks ‚Äî Win a Treat</title>
<head>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,300,0,0" />
</head>
<!--
  Sunday Folks ‚Äî 404 with Memory Match + Spin & Win
  - Self-contained single-file implementation
  - Professional, accessible, responsive
  - Voucher generation & localStorage persistence
  - Footer social alignment and UX polish
-->

<style>
/* ====================================================================
   0) Design Tokens & Global Reset
   ==================================================================== */
:root{
  --brand-brown: #99673f;
  --brand-brown-dark: #7a5f45;
  --brand-cream: #fdfbf7;
  --text-dark: #5C4033;
  --muted: #b0a191;
  --bg-white: #ffffff;
  --shadow-1: rgba(0,0,0,0.06);
  --glass: rgba(255,255,255,0.9);

  --radius-lg: 18px;
  --radius-md: 10px;
  --radius-sm: 6px;

  --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  --font-serif: "Old Standard TT", Georgia, "Times New Roman", serif;
  --font-menu: Garamond, Baskerville, "Times New Roman", serif;
  --font-georgia: Georgia, "Times New Roman", Times, serif;
}

/* Reset */
*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
  font-family:var(--font-georgia);
  color:var(--text-dark);
  background:var(--bg-white);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  display:flex;
  flex-direction:column;
  min-height:100vh;
  overflow-x: hidden;
}

/* Link/button defaults */
a{color:inherit;text-decoration:none}
button{font:inherit;cursor:pointer;border:0;background:none}

/* ====================================================================
   1) Header & Top bar
   ==================================================================== */
.top-bar{
  background:var(--brand-brown);
  color:var(--brand-cream);
  text-align:center;
  padding:18px 12px;
  font: size 24px;
  letter-spacing: 0.1em;
}

.main-header {
  background: #ffffff;
  color: var(--brand-brown); /* Icons will inherit this color */
  display: flex;
  justify-content: space-between; /* Pushes logo left, icons right */
  align-items: center;
  padding: 20px 40px; /* Padding for top/bottom and left/right */
  border-bottom: 1px solid #eee; /* Nice little line */
}

/* A simple style for your logo placeholder */
.logo a {
  text-decoration: none;
  color: var(--brand-brown);
  font-size: 24px;
  font-weight: bold;
}

/* This is the container for your icons */
.header-icons {
  display: flex;
  gap: 48px; /* This adds space *between* the icons */
}

/* This styles the icons themselves */
.header-icons a {
  color: var(--brand-brown); /* Ensures icons are brown */
  text-decoration: none;
}

.header-icons .material-symbols-outlined {
  font-size: 32px; /* Makes the icons a good, clickable size */
}

/* Header layout */
.header {
  display:flex;
  align-items:center;
  justify-content:un;
  padding:0% 46px;
  background:var(--bg-white);
  border-bottom:none;
}
.header .left, .header .center, .header .right{
  display:flex;
  align-items:center;
  gap:16px;
}
.header .center{flex:1;justify-content:center}
.logo{
  font-family:var(--font-serif);
  font-size:36px;
  color:var(--text-dark);
  font-weight:300;
  letter-spacing:0.5px;
}

.logo-img {
  height: 160px;  /* smaller logo */
  width: auto;
  display: block;
  object-fit: contain;
  margin: 0px auto;
  
}

.header-center {
  padding-left: 145px;
}


.icon-link svg {
  width: 36px;
  height: 36px;
  stroke: #99673f;
  stroke-width: 1.5;
  fill: none;
  }

.header-right {
  display: flex;
  align-items: center;
  gap: 100px;
  flex: 1;
  }

.header-right {
  justify-content: flex-end;
  }

/* small icon buttons */
.icon-btn{
  width:38px;height:38px;border-radius:8px;display:inline-flex;align-items:center;justify-content:center;
  color:var(--text-dark);background:transparent;
}
.icon-btn:focus{outline:2px solid rgba(153,103,63,0.18);outline-offset:2px}

/* ====================================================================
   2) Main content area (404 + games)
   ==================================================================== */
.content{
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:80px;
  padding:8px 24px 72px;
}

/* Centered 404 title cluster */
.hero{
  text-align:center;
  max-width:980px;
  width:100%;
  animation: fadeIn 1.2s ease;
}
.hero .code{
  font-family:var(--font-serif);
  font-size:96px;
  line-height:0.95;
  color:var(--brand-brown);
  margin-bottom:8px;
}
.hero .title{
  font-family:var(--font-serif);
  font-size:48px;
  color:var(--text-dark);
  margin-top: 16px;
  margin-bottom: 16px;
  line-height: 1.2;
}
.hero .caption{
  font-family: Georgia, 'Times New Roman', Times, serif;
  font-size: 30px;
  color: var(--muted);
  /* You can add some top margin to push it down from the button */
  margin-top: 18px; 
  margin-bottom: 18px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);

  display: block; /* <-- This is the fix */
  animation: shake 1.5s infinite ease-in-out;
}

@keyframes shake {
  0% { transform: translate(0, 0); }
  10% { transform: translate(-2px, 2px); }
  20% { transform: translate(2px, -2px); }
  30% { transform: translate(-2px, 2px); }
  40% { transform: translate(2px, -2px); }
  50% { transform: translate(-2px, 2px); }
  60% { transform: translate(2px, -2px); }
  70% { transform: translate(-2px, 2px); }
  80% { transform: translate(2px, -2px); }
  90% { transform: translate(-2px, 2px); }
  100% { transform: translate(0, 0); }
}

.hero .cta{
  display:inline-block;
  padding:15px 25px;
  background: var(--bg-white);
  border-style: dashed;
  color:var(--brand-brown);
  border-radius:8px;
  font-family: Georgia, 'Times New Roman', Times, serif;
  font-weight:600;
  font-size: large;
  letter-spacing:1px;
}

.hero .cta:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(153, 103, 63, 0.2);
  transition: all 0.25s ease;
}

/* Games layout */
.games-wrapper{
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: stretch; /* makes cards equal height */
  gap: 40px;
  max-width: 900px;
  margin: 80px auto;
  padding: 40px 20px;
}

/* Game card shared style */
.game-card{
  flex: 1 1 380px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  border: 2px solid #e2d6c6;
  border-radius: 20px;
  background: #fffdfa;
  padding: 24px;
  box-sizing: border-box;
  min-height: 530px; /* ensures both boxes are consistent height */
  max-height: 530px;
  overflow: hidden;
  transition: all 0.3s ease;
  animation: fadeInUp 1s ease both;
}

.game-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}

/* Slightly narrower for small screens */
.game-card.small{ width:360px }

/* Game title */
.game-title{
  font-family:var(--font-menu);
  color:var(--brand-brown);
  font-weight:600;
  font-size:22px;
  margin-bottom:16px;
  display:flex;align-items:center;gap:10px;
  text-align: center;
}

.sf-404{
      font-family:var(--font-georgia);
      font-size:150px;
      color:rgb(153 103 63);
      line-height:0.9;
      text-align:center;
      width:420px;
      transition:transform .25s ease;
    }
    .sf-floating { animation:sfFloat 2s ease-in-out infinite; display:inline-block; }
    @keyframes sfFloat{0%{transform:translateY(0) rotate(-2deg)}50%{transform:translateY(-12px) rotate(2deg)}100%{transform:translateY(0) rotate(-2deg)}}


/* ====================================================================
   3) Memory Match styles
   ==================================================================== */
.memory-board{
  width:100%;
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:12px;
  padding:6px;
}

/* Each card styles */
.card{
  position:relative;
  width:100%;
  padding-top:100%; /* square */
  border-radius:12px;
  perspective:800px;
  cursor:pointer;
  box-shadow:0 3px 10px rgba(0,0,0,0.06);
  transition:transform 160ms ease;
}
.card:active{transform:scale(0.98)}
.card-inner{
  position:absolute;inset:0;border-radius:12px;transform-style:preserve-3d;transition:transform 420ms cubic-bezier(.2,.8,.2,1);
}
.card.is-flipped .card-inner{ transform: rotateY(180deg); }

.card-face{
  position:absolute;inset:0;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:26px;backface-visibility:hidden;
}

/* front (hidden face) */
.card-front{
  background:var(--brand-brown);
  color:var(--brand-cream);
}

/* back (revealed face) */
.card-back{
  background:linear-gradient(180deg,#fef8f3,#fbefe3);
  color:var(--brand-brown);
  transform:rotateY(180deg);
  font-size:28px;
  padding:8px;
}

/* Matched state */
.card.matched{ box-shadow:0 6px 18px rgba(122,95,69,0.12); transform:scale(1.02); border:2px solid rgba(153,103,63,0.08); }

/* Memory controls */
.memory-controls{
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap; /* allow wrapping on small screens */
  justify-content: flex-start;
  margin-top: 16px;
  min-height: 40px; /* keeps consistent height even when text changes */
  height: 36px;
  line-height: 1;
  padding: 0 12px;
}

#memoryStatus {
  flex: 1 1 100%;
  font-size: 13px;
  color: var(--muted);
  padding-left: 8px;
  min-height: 18px; /* keeps space reserved even when short */
  margin-top: 4px;
}

.small-btn{
  padding:8px 12px;border-radius:10px;background:transparent;border:1px solid rgba(0,0,0,0.06);
  color:var(--text-dark);cursor:pointer;font-weight:600;
  height: 36px;
  line-height: 2.2;
  padding: 0 12px;
}
.small-btn.primary{background:var(--brand-brown);color:var(--brand-cream);border:0}
.small-btn[disabled]{opacity:0.5;cursor:not-allowed}

/* ====================================================================
   4) Spin wheel styles
   ==================================================================== */
.spin-wrapper{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content: center;
  height:100%;
  flex-grow: 1;
}
.wheel-stage{
  width:260px;
  height:260px;
  border-radius:50%;
  border:10px solid var(--brand-brown);
  margin: 0 auto 24px;
  border-radius: 50%;
  position:relative;
  overflow:hidden;
  background:conic-gradient(
    #f9e9d9 0deg 45deg,
    #fff6f1 45deg 90deg,
    #f9e9d9 90deg 135deg,
    #fff6f1 135deg 180deg,
    #f9e9d9 180deg 225deg,
    #fff6f1 225deg 270deg,
    #f9e9d9 270deg 315deg,
    #fff6f1 315deg 360deg
  );
  display:grid;place-items:center;
  transition:transform 4s cubic-bezier(.22,.9,.32,1);
}
.wheel-pointer{
  position:absolute;
  top:-12px;
  left:50%;
  width:0;
  height:0;
  transform: translateX(-50%);
  border-left:10px solid transparent;
  border-right:10px solid transparent;
  border-bottom:20px solid var(--brand-brown);
  filter:drop-shadow(0 3px 6px rgba(0,0,0,0.08));
  z-index:10;
}
.wheel-center{
  width:110px;height:110px;border-radius:50%;background:var(--brand-cream);display:flex;align-items:center;justify-content:center;border:6px solid rgba(153,103,63,0.06);
  font-family:var(--font-menu);color:var(--brand-brown);font-weight:600;
}
.spin-btn{
  margin-top:20px;
  padding:10px 22px;
  border-radius:28px;
  background:var(--brand-brown);
  color:var(--brand-cream);
  font-weight:700;
  box-shadow:0 6px 18px rgba(153,103,63,0.12);
}
.spin-btn[disabled]{
  opacity:0.6;
  cursor:not-allowed;
}

/* segments labeling hints (for accessibility visuals) */
.segment-labels{
  margin-top:10px;
  color:var(--muted);
  font-size:13px;
}

.small-btn:hover, .spin-btn:hover {
  opacity: 0.85;
  transform: translateY(-1px);
  transition: all 0.25s ease;
}

/* ====================================================================
   5) Voucher Modal & Toast
   ==================================================================== */
.modal-backdrop{
  position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.45);z-index:9999;
}
.modal-backdrop.active{display:flex}
.modal{
  background:var(--brand-cream);border-radius:14px;padding:28px 28px;width:min(680px,92%);max-width:760px;box-shadow:0 12px 40px rgba(0,0,0,0.18);
}
.modal h3{font-family:var(--font-serif);color:var(--brand-brown);font-size:22px;margin-bottom:8px}
.modal p{color:var(--text-dark);margin-bottom:18px}
.voucher-code{
  background:#fff;border:1px dashed rgba(153,103,63,0.16);padding:12px 14px;border-radius:8px;font-weight:700;letter-spacing:1px;margin:10px 0;display:flex;align-items:center;justify-content:space-between;
}
.voucher-code .code{font-family:monospace;font-size:16px;color:var(--brand-brown-dark)}
.copy-btn{padding:8px 12px;border-radius:8px;background:var(--brand-brown);color:var(--brand-cream);font-weight:700}
.modal .actions{display:flex;gap:12px;justify-content:flex-end;margin-top:14px}

/* small inline notification */
.toast{
  position:fixed;right:20px;bottom:20px;background:var(--brand-brown);color:var(--brand-cream);padding:10px 14px;border-radius:10px;box-shadow:0 8px 20px rgba(0,0,0,0.15);opacity:0;transform:translateY(10px);transition:all 260ms;
  z-index:99999;
}
.toast.show{opacity:1;transform:translateY(0)}

/* ====================================================================
   6) Footer ‚Äî fixed styling & social alignment
   ==================================================================== */
.main-footer {
    background-color: var(--brand-brown);
    color: var(--brand-cream);
    padding: 60px 40px 20px;
    
}

.footer-content {
    display: flex;
    justify-content: space-between;
    margin-bottom: 40px;
    flex-wrap: wrap;
    gap: 40px;
}

/* --- Subscribe Form --- */
.footer-subscribe h3 {
    font-size: 16px;
    font-weight: 500;
    margin-bottom: 20px;
    letter-spacing: 0.05em;
    font-family: Georgia, 'Times New Roman', Times, serif; /* Added this for style */
}

/* * THIS IS THE FIX! 
 * I changed this section to have a border-bottom only.
 */
.subscribe-form {
    display: flex;
    max-width: 350px;
    /* This is the change: */
    border-bottom: 1px solid var(--brand-cream); 
}

.subscribe-form input {
    flex-grow: 1;
    background: transparent;
    border: none; /* No border on the input itself */
    padding: 12px 0;
    color: var(--brand-cream);
    font-size: 14px;
    font-family: Georgia, 'Times New Roman', Times, serif; /* Added this for style */
}

.subscribe-form input::placeholder {
    color: var(--brand-cream);
    opacity: 0.8;
}

.subscribe-form button {
    background: transparent;
    border: none; /* No border on the button */
    padding: 0 10px;
    cursor: pointer;
    transition: opacity 0.3s ease;
}

.subscribe-form button:hover {
    opacity: 0.6;
}

.subscribe-form button svg {
    width: 22px;
    height: 22px;
    stroke: var(--brand-cream);
}

/* --- Right Cluster --- */
.footer-right-cluster {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 25px;
}

.footer-links {
    display: flex;
    gap: 25px;
}

.footer-links a {
    color: var(--brand-cream);
    text-decoration: none;
    font-size: 14px;
    font-family: Georgia, 'Times New Roman', Times, serif; /* Added this for style */
    transition: opacity 0.3s ease;
}

.footer-links a:hover {
    opacity: 0.6;
}

.footer-social {
    display: flex;
    gap: 20px;
}

.footer-social a {
    color: var(--brand-cream);
    text-decoration: none;
    transition: opacity 0.3s ease;
}
.footer-social a:hover {
    opacity: 0.6;
}
.footer-social .icon-link svg {
    fill: var(--brand-cream);
    stroke: none;
    width: 20px;
    height: 20px;
}

/* --- Bottom Bar --- */
.footer-bottom {
    display: flex;
    justify-content: space-between;
    align-items: center;
    text-align: center;
    padding-top: 20px;
    border-top: 1px solid rgba(253, 251, 247, 0.3);
    flex-wrap: wrap;
    gap: 15px;
}

.footer-copyright {
    font-size: 12px;
    opacity: 0.8;
    flex-grow: 1;
    text-align: right;
    min-width: 250px;
    font-family: Georgia, 'Times New Roman', Times, serif; /* Added this for style */
}

/* --- Payment Icons --- */
.payment-icons {
    display: flex;
    gap: 8px;
    padding: 0;
    margin: 0;
}

.payment-icons li {
    list-style: none;
    /* We keep the white background and border-radius */
    background-color: #ffffff; 
    border-radius: 4px;
    display: flex; 
    align-items: center;
    /* Add this to fix an alignment issue in some browsers */
    line-height: 0; 
}

.payment-icons li svg {
    height: 24px; /* 24px is the height */
    width: 38px;  /* 38px is the width */
    border-radius: 3px;
}
/* ====================================================================
   7) Accessibility helpers and responsive
   ==================================================================== */
.visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}
@media (max-width:1120px){
  .games-wrapper{gap:20px}
  .game-card{width:360px}
}
@media (max-width:820px){
  .games-wrapper{flex-direction:column;align-items:center}
  .game-card{width:92%}
  .hero .code{font-size:72px}
}
@media (max-width:420px){
  .header{padding:12px 16px}
  .logo{font-size:28px}
  .hero .code{font-size:52px}
  .memory-board{gap:8px}
  .card{border-radius:10px}
}

@media (max-width: 768px) {
  .wheel-stage {
    width: 220px;
    height: 220px;
  }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(25px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ====================================================================
   End of styles
   ==================================================================== */
</style>
</head>
<body>
  <!-- TOP BAR -->
  <body>
    <div class="top-bar" role="region" aria-label="announcement">
      Enjoy complimentary delivery for orders of $120 and above
    </div>

    <header class="main-header">
      <div class="left">
        <button class="icon-link" id="openMenuBtn" aria-label="Menu">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
        </button>
      </div>

      <div class="header-center">
        <a href="https://order.sundayfolks.com/" class="logo">
        <img src="sundayfolks-logo.png" alt="Sunday Folks Logo" class="logo-img"/></a>
      </div>

      <nav class="header-icons">
        <a href="/search" aria-label="Search">
          <span class="material-symbols-outlined">search</span>
        </a>

        <a href="/account" aria-label="Account">
          <span class="material-symbols-outlined">person</span>
        </a>
        
        <a href="/cart" aria-label="Cart">
          <span class="material-symbols-outlined">shopping_bag</span>
        </a>
      </nav>
    </header>
  </body>

  <br><br><br><br><br>
  
  <!-- MAIN CONTENT -->
  <main class="content" role="main">
    <!-- Hero (404) -->
    <section class="hero" aria-labelledby="pageTitle">
      <div class="sf-404 sf-floating" aria-hidden="true"><img src="./Images/2.png" width="400"></div>
        <h1 id="pageTitle" class="title">Oops! Page not found</h1>
        <br>
        <a class="cta" href="https://order.sundayfolks.com/collections/celebration-cakes" role="button">Explore Cakes</a>
        <br><br><br><br><br>
        <marquee behavior="alternate" direction="left"><p class="caption">play to win a treat üéâ make your day sweeter üç∞</p></marquee>
    </section>

    <!-- Games container -->
    <section class="games-wrapper" aria-label="Games and prizes">
      <!-- MEMORY MATCH -->
      <div class="game-card" id="memoryCardWrapper" aria-labelledby="memoryTitle">
        <div class="game-title" id="memoryTitle">üß† Memory Match</div>

        <!-- Game board -->
        <div class="memory-board" id="memoryBoard" aria-live="polite" aria-describedby="memoryStatus"></div>

        <!-- Controls -->
        <div class="memory-controls" role="group" aria-label="Memory game controls">
          <button class="small-btn" id="memoryReset">Reset</button>
          <button class="small-btn primary" id="memoryHint">Hint</button>
          <div id="memoryStatus" style="font-size:13px;color:var(--muted);padding-left:8px">Find all matching pairs to win a voucher</div>
        </div>
      </div>

      <!-- SPIN & WIN -->
      <div class="game-card" id="spinWrapper" aria-labelledby="spinTitle">
        <div class="game-title" id="spinTitle">üé° Spin & Win</div>

        <div class="spin-wrapper" role="application" aria-label="Spin the wheel to win">
          <div class="wheel-stage" id="wheel" aria-hidden="true">
            <div class="wheel-pointer" aria-hidden="true"></div>
            <div class="wheel-center" id="wheelCenter">Spin</div>
          </div>

          <button class="spin-btn" id="spinBtn" aria-describedby="segmentLabels">SPIN NOW</button>

          <div class="segment-labels" id="segmentLabels" aria-hidden="true">Prizes: 5% Off ‚Ä¢ 10% Off ‚Ä¢ 15% Off ‚Ä¢ Free Topping ‚Ä¢ Free Drink</div>
        </div>
      </div>
    </section>
  </main>

  <!-- VOUCHER MODAL -->
  <div class="modal-backdrop" id="voucherModal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="voucherTitle">
    <div class="modal" role="document">
      <h3 id="voucherTitle">üéâ Congratulations!</h3>
      <p id="voucherMessage">You won a prize. Here is your voucher code:</p>

      <div class="voucher-code" aria-live="polite">
        <span class="code" id="voucherCode">SF-XXXXX-XXXX</span>
        <button class="copy-btn" id="copyVoucherBtn" aria-label="Copy voucher code">Copy</button>
      </div>

      <div style="display:flex;gap:10px;justify-content:space-between;align-items:center;margin-top:8px">
        <div style="color:var(--muted);font-size:13px">Voucher stored in your browser for convenience.</div>
        <div class="actions" style="display:flex;gap:8px">
          <button class="small-btn" id="closeVoucherBtn">Close</button>
          <a class="small-btn primary" id="useVoucherBtn" href="/cart">Use Voucher</a>
        </div>
      </div>
    </div>
  </div>

  <!-- TOAST -->
  <div class="toast" id="toast" role="status" aria-live="polite">Copied!</div>

  <!-- FOOTER -->
<footer class="main-footer">
    <div class="footer-content">
        
        <div class="footer-subscribe">
            <h3>Subscribe to our emails</h3>
            <form class="subscribe-form">
                <input type="email" placeholder="Email" required>
                <button type="submit" aria-label="Subscribe">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
                </button>
            </form>
        </div>
        
        <div class="footer-right-cluster">
            <div class="footer-links">
                <a href="#">FAQs</a>
                <a href="#">Locate Us</a>
                <a href="#">Search</a>
            </div>
            
            <div class="footer-social">
                <a href="https://www.facebook.com/sundayfolks.singapore" class="icon-link" aria-label="Facebook" target="_blank">
                <img src="./Images/icons8-facebook-logo-50.png" width="20px">
                </a>
                <a href="https://www.instagram.com/wearesunday" class="icon-link" aria-label="Instagram" target="_blank">
                    <img src="./Images/instagram-icon-svg-1.png" width="19px">
                </a>
                <a href="https://www.pinterest.com/wearesunday" class="icon-link" aria-label="Pinterest" target="_blank">
                    <img src="./Images/icons8-pinterest-50.png" width="19px">
                </a>
            </div>
        </div>
    </div>
    
    <div class="footer-bottom">
      <div class="payment-image-container">
          <img src="payment-method.png" alt="Accepted payment methods: American Express, Apple Pay, Google Pay, Mastercard, PayPal, Shop Pay, UnionPay, Visa" style="max-width: 380px; height: auto; display: block;">
      </div>
    
      <div class="footer-copyright">
              <p>¬© 2025, Sunday Folks. Powered by Shopify.</p>
      </div>
    </div>
</footer>

<!-- =====================================================================
     JavaScript: Memory Game, Spin Wheel, Voucher logic, UI utilities
     ===================================================================== -->
<script>
/* =========================================================================
   Utilities: small helper functions to keep code tidy and accessible
   ========================================================================= */
(function(){
  // Simple selector helpers
  window.$ = s => document.querySelector(s);
  window.$$ = s => Array.from(document.querySelectorAll(s));

  // Create an element with attributes & optional children
  window.create = (tag, attrs={}, children=[])=>{
    const el = document.createElement(tag);
    for(const k in attrs){
      if(k === 'class') el.className = attrs[k];
      else if(k === 'text') el.textContent = attrs[k];
      else if(k === 'html') el.innerHTML = attrs[k];
      else el.setAttribute(k, attrs[k]);
    }
    children.forEach(c => el.appendChild(c));
    return el;
  };

  // random shuffle (Fisher-Yates)
  window.shuffle = arr => {
    let m = arr.length, i;
    while(m){
      i = Math.floor(Math.random()*m--);
      [arr[m], arr[i]] = [arr[i], arr[m]];
    }
    return arr;
  };

  // generate voucher code
  window.generateVoucher = (prefix='SF', len=6) => {
    const CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    let s = '';
    for(let i=0;i<len;i++) s += CHARS.charAt(Math.floor(Math.random()*CHARS.length));
    return `${prefix}-${s}`;
  };

  // copy to clipboard with fallback
  window.copyToClipboard = async text => {
    if(navigator.clipboard && navigator.clipboard.writeText) {
      try { await navigator.clipboard.writeText(text); return true; }
      catch(e) { /* fallthrough */ }
    }
    // fallback
    const ta = document.createElement('textarea'); ta.value = text;
    ta.style.position = 'fixed'; ta.style.left='-9999px';
    document.body.appendChild(ta); ta.select();
    try{ document.execCommand('copy'); document.body.removeChild(ta); return true; }
    catch(e){ document.body.removeChild(ta); return false; }
  };

})();

/* =========================================================================
   Voucher Modal + Toast handling
   ========================================================================= */
(function(){
  const modal = $('#voucherModal');
  const voucherCodeEl = $('#voucherCode');
  const voucherMessage = $('#voucherMessage');
  const copyBtn = $('#copyVoucherBtn');
  const closeBtn = $('#closeVoucherBtn');
  const toast = $('#toast');
  const useBtn = $('#useVoucherBtn');

  function showToast(text, timeout=1600){
    toast.textContent = text;
    toast.classList.add('show');
    setTimeout(()=>toast.classList.remove('show'), timeout);
  }

  function openModal(code, message, route='/cart'){
    voucherCodeEl.textContent = code;
    voucherMessage.textContent = message || 'Use this voucher at checkout';
    modal.classList.add('active');
    modal.setAttribute('aria-hidden','false');
    // also store voucher in localStorage (persist)
    let stored = JSON.parse(localStorage.getItem('sf_vouchers') || "[]");
    // avoid duplicates
    if(!stored.includes(code)) stored.unshift({code, date:new Date().toISOString(), message});
    // cap history
    if(stored.length>12) stored = stored.slice(0,12);
    localStorage.setItem('sf_vouchers', JSON.stringify(stored));
    // set use link to route (could be modified to apply discount)
    useBtn.setAttribute('href', route);
    // focus copy button for accessibility
    copyBtn.focus();
  }

  function closeModal(){
    modal.classList.remove('active');
    modal.setAttribute('aria-hidden','true');
  }

  // copy handler
  copyBtn.addEventListener('click', async ()=>{
    const code = voucherCodeEl.textContent.trim();
    const ok = await copyToClipboard(code);
    if(ok) showToast('Voucher copied');
    else showToast('Copy failed');
  });

  // close modal handlers
  closeBtn.addEventListener('click', closeModal);
  modal.addEventListener('click', (e)=>{
    if(e.target === modal) closeModal();
  });

  // expose methods
  window.voucherUI = {openModal, closeModal, showToast};
})();

/* =========================================================================
   Memory Match Game Implementation
   - 16 cards (8 pairs)
   - flip, match detection, hint, reset
   - when all matched, generate voucher and show modal
   ========================================================================= */
(function(){
  const ICONS = ['üç¶','üç´','üçì','üç∞','‚òï','üç™','üßá','üç©']; // 8 distinct
  const BOARD = $('#memoryBoard');
  const RESET = $('#memoryReset');
  const HINT = $('#memoryHint');
  const STATUS = $('#memoryStatus');

  let state = {
    deck: [],
    flipped: [], // [{index, el, symbol}]
    matchedCount: 0,
    busy: false
  };

  // Prepare & render deck
  function buildDeck(){
    // duplicate and shuffle
    const doubled = [...ICONS, ...ICONS];
    const deck = shuffle(doubled.slice());
    state.deck = deck;
    state.flipped = [];
    state.matchedCount = 0;
    state.busy = false;

    // clear board
    BOARD.innerHTML = '';
    deck.forEach((sym, idx) => {
      const card = createCard(sym, idx);
      BOARD.appendChild(card);
    });
    STATUS.textContent = 'Find all matching pairs to win a voucher';
  }

  // Create individual card element
  function createCard(symbol, idx){
    const card = document.createElement('div');
    card.className = 'card';
    card.setAttribute('tabindex','0');
    card.setAttribute('role','button');
    card.setAttribute('aria-pressed','false');
    card.setAttribute('data-index', idx);
    card.setAttribute('aria-label', 'Memory card');
    // inner container
    const inner = document.createElement('div'); inner.className = 'card-inner';
    const front = document.createElement('div'); front.className = 'card-face card-front';
    const back = document.createElement('div'); back.className = 'card-face card-back';
    back.textContent = symbol;
    inner.appendChild(front); inner.appendChild(back);
    card.appendChild(inner);

    // click & keyboard
    card.addEventListener('click', onCardClick);
    card.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' || e.key === ' '){
        e.preventDefault(); card.click();
      }
    });

    return card;
  }

  // handle flips
  function onCardClick(e){
    if(state.busy) return;
    const card = (e.currentTarget);
    const idx = Number(card.getAttribute('data-index'));
    const symbol = state.deck[idx];

    // ignore if already matched
    if(card.classList.contains('matched')) return;
    if(card.classList.contains('is-flipped')) return;

    flipCard(card);

    state.flipped.push({index:idx, el:card, symbol});
    if(state.flipped.length === 2){
      // lock interactions temporarily
      state.busy = true;
      setTimeout(checkMatch, 600);
    }
  }

  // visually flip
  function flipCard(card){
    card.classList.add('is-flipped');
    card.setAttribute('aria-pressed','true');
  }
  function unflipCard(card){
    card.classList.remove('is-flipped');
    card.setAttribute('aria-pressed','false');
  }

  // check for match
  function checkMatch(){
    const [a,b] = state.flipped;
    if(!a || !b){ state.busy=false; state.flipped=[]; return; }

    if(a.symbol === b.symbol){
      // matched
      a.el.classList.add('matched');
      b.el.classList.add('matched');
      state.matchedCount += 2;
      STATUS.textContent = `Nice! Found a pair ‚Äî ${state.matchedCount/2} pairs matched`;
      // slight celebration bounce
      a.el.animate([{transform:'scale(1)'},{transform:'scale(1.04)'},{transform:'scale(1)'}],{duration:360});
      b.el.animate([{transform:'scale(1)'},{transform:'scale(1.04)'},{transform:'scale(1)'}],{duration:360});
      // reset flipped and allow interactions
      state.flipped = [];
      state.busy = false;

      // all matched?
      if(state.matchedCount === state.deck.length){
        // generate voucher
        const code = generateVoucher('SF',8);
        // a friendly message
        const message = `You matched all cards! Enjoy a 10% off voucher.`;
        // open modal
        setTimeout(()=> window.voucherUI.openModal(code, message, '/cart'), 420);
      }
    } else {
      // mismatch, flip back
      STATUS.textContent = 'Not a match ‚Äî try again';
      setTimeout(()=>{
        unflipCard(a.el);
        unflipCard(b.el);
        state.flipped = [];
        state.busy = false;
      }, 700);
    }
  }

  // Reset action
  RESET.addEventListener('click', ()=>{
    buildDeck();
    // small animation
    BOARD.animate([{opacity:0.6},{opacity:1}],{duration:320});
  });

  // Hint action: reveal one pair briefly
  HINT.addEventListener('click', ()=>{
    if(state.busy) return;
    // find any unmatched pair in deck
    const counts = {};
    state.deck.forEach((s,i)=> {
      if(!stateMatchedAt(i)) counts[s] = counts[s] || [];
      if(!stateMatchedAt(i)) counts[s] && counts[s].push(i);
    });
    // select a symbol with two unmatched indices
    let pair = null;
    for(const sym in counts){
      if(Array.isArray(counts[sym]) && counts[sym].length >= 2){ pair = counts[sym].slice(0,2); break; }
    }
    if(!pair){ STATUS.textContent = 'No hint available'; return; }
    // reveal both
    const elA = BOARD.querySelector(`.card[data-index="${pair[0]}"]`);
    const elB = BOARD.querySelector(`.card[data-index="${pair[1]}"]`);
    if(!elA || !elB) return;
    state.busy = true;
    flipCard(elA); flipCard(elB);
    setTimeout(()=>{ unflipCard(elA); unflipCard(elB); state.busy=false; }, 1200);
  });

  // Helper: whether index is matched (reads DOM)
  function stateMatchedAt(idx){
    const el = BOARD.querySelector(`.card[data-index="${idx}"]`);
    return el && el.classList.contains('matched');
  }

  // Initialize
  buildDeck();

  // expose for debug / tests
  window.memoryGame = {
    rebuild: buildDeck,
    getState: ()=>({...state}),
  };
})();

/* =========================================================================
   Spin & Win wheel implementation
   Notes:
   - Wheel has 6 equal slices: index 0..5
   - The visual rotation is implemented by rotating the .wheel-stage element.
   - A deterministic mapping from final angle to prize index is used.
   ========================================================================= */
(function(){
  const wheel = $('#wheel');
  const spinBtn = $('#spinBtn');
  const center = $('#wheelCenter');

  // segments mapping (clockwise from top)
  const SEGMENTS = [
    {label:'5% Off', reward:{type:'discount', value:5}},
    {label:'10% Off', reward:{type:'discount', value:10}},
    {label:'Free Topping', reward:{type:'product', value:'Free Topping'}},
    {label:'15% Off', reward:{type:'discount', value:15}},
    {label:'Free Drink', reward:{type:'product', value:'Free Drink'}},
    {label:'Try Again', reward:{type:'tryagain'}}
  ];

  // Keep track of total spin rotations to allow chaining
  let rotation = 0;
  let isSpinning = false;

  // Compute prize index from final angle (0..359)
  function angleToIndex(angle){
    // wheel visual has segments from 0 at "top" and clockwise; we assume top = 0 deg
    // Each segment is 60deg (360/6)
    // Convert angle to value in [0,360)
    const normalized = ((angle % 360) + 360) % 360;
    // Determine which segment is at the pointer (top). Because CSS rotate rotates the wheel, the content at top corresponds to -angle.
    // We want index = Math.floor((normalized + segmentHalf)/segmentSize) % 6 where segmentHalf centers pointer.
    const segSize = 360 / SEGMENTS.length;
    // because pointer is at top (0deg), the label at angle 0 sits at top. We'll map normalized angle (rotation %360) to index
    // Due to our conic-gradient starting point, mapping directly is consistent.
    const idx = Math.floor(((normalized + segSize/2) % 360) / segSize);
    return idx;
  }

  // Create a smooth random spin that lands near a random segment but still feels fair
  function spinWheel(){
    if(isSpinning) return;
    isSpinning = true;
    spinBtn.setAttribute('disabled','true');

    // pick a random prize index (weighted optional)
    // we'll pick uniformly for fairness; to guarantee "Try Again" occurs sometimes we keep it simple
    const prizeIndex = Math.floor(Math.random() * SEGMENTS.length);

    // Now compute a rotation such that the chosen segment lands at pointer
    // The wheel's content rotates by 'rotation' degrees. If we want segment 'prizeIndex' to be at top, we set finalRotation = targetAngle + 360*k
    const segSize = 360 / SEGMENTS.length;
    const targetAngle = prizeIndex * segSize; // angle of segment start
    // To center the segment under pointer, offset by half segment
    const targetCenter = targetAngle + segSize/2;

    // choose a spin multiplier: random between 6 and 9 full rotations for drama
    const rounds = Math.floor(6 + Math.random()*4);
    const finalRotation = (rounds * 360) + (360 - targetCenter) + (Math.random()* (segSize/3) - segSize/6);

    // animate using CSS transition
    wheel.style.transition = 'transform 4s cubic-bezier(.22,.9,.32,1)';
    rotation = rotation + finalRotation;
    wheel.style.transform = `rotate(${rotation}deg)`;

    // set temporary UI
    center.textContent = 'Spinning...';

    // after transition ends, evaluate prize
    setTimeout(()=>{
      // compute normalized angle that ended up at top
      const finalAngle = rotation % 360;
      const landedIdx = angleToIndex(finalAngle);
      const prize = SEGMENTS[landedIdx];

      // slight delay for effect
      setTimeout(()=> {
        // if prize is Try Again -> allow immediate retry with a message
        if(prize.reward.type === 'tryagain'){
          center.textContent = 'Try Again';
          window.voucherUI.showToast('Try again ‚Äî better luck next spin!', 1700);
        } else {
          // generate voucher for discounts or product freebies
          let codePrefix = (prize.reward.type === 'discount') ? 'SF-D' : 'SF-P';
          const code = generateVoucher(codePrefix,8);
          const msg = (prize.reward.type === 'discount')
            ? `You won ${prize.reward.value}% off!`
            : `You won: ${prize.reward.value}`;
          center.textContent = prize.label;
          // open voucher modal
          setTimeout(()=> window.voucherUI.openModal(code, `${msg} ‚Äî Use at checkout.`), 500);
        }
        // re-enable
        spinBtn.removeAttribute('disabled');
        isSpinning = false;
      }, 400);
    }, 4200); // match CSS duration plus 200ms
  }

  // Attach handler (keyboard accessible)
  spinBtn.addEventListener('click', spinWheel);
  spinBtn.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' ') spinWheel(); });

  // Expose for debug
  window.spinWheel = {spinWheel, SEGMENTS};
})();

/* =========================================================================
   Small polish: Subscribe form, menu button, preserve voucher view
   ========================================================================= */
(function(){
  $('#subscribeForm').addEventListener('submit', (e)=>{
    e.preventDefault();
    const email = $('#subscribeEmail').value.trim();
    if(!email || !email.includes('@')) {
      window.voucherUI.showToast('Please enter a valid email');
      return;
    }
    // lightweight visual feedback
    $('#subscribeEmail').value = '';
    window.voucherUI.showToast('Subscribed ‚Äî thank you!');
    // In production: send to your email list provider via fetch or Shopify endpoint
  });

  // menu open/close (dummy for now)
  $('#openMenu').addEventListener('click', ()=>{
    window.voucherUI.showToast('Menu open (placeholder)');
  });

  // Restore last voucher (if user closed modal, they can open again)
  // We won't auto-open to avoid annoyance; expose method to view saved vouchers in future.
  window.getSavedVouchers = function(){
    try { return JSON.parse(localStorage.getItem('sf_vouchers') || '[]'); }
    catch(e){ return []; }
  };
})();

/* =========================================================================
   Accessibility: keyboard focus trap for modal (basic)
   ========================================================================= */
(function(){
  const modal = $('#voucherModal');
  let lastFocused = null;

  // open/close are handled by voucherUI; intercept to manage focus
  const origOpen = window.voucherUI.openModal;
  window.voucherUI.openModal = function(code, message, route){
    lastFocused = document.activeElement;
    origOpen(code, message, route);
    // wait turn then focus close button
    setTimeout(()=> $('#copyVoucherBtn').focus(), 80);
    // trap focus
    document.addEventListener('focus', trapFocus, true);
  };

  const origClose = window.voucherUI.closeModal;
  window.voucherUI.closeModal = function(){
    origClose();
    document.removeEventListener('focus', trapFocus, true);
    if(lastFocused) lastFocused.focus();
  };

  function trapFocus(e){
    if(!modal.classList.contains('active')) return;
    if(!modal.contains(e.target)){
      e.stopPropagation();
      $('#copyVoucherBtn').focus();
    }
  }
})();

/* =========================================================================
   End of script
   ========================================================================= */
</script>

</body>
</html>
